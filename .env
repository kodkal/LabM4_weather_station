# Weather Station Configuration

# Security Keys (auto-generated below)
SECRET_KEY=temp-will-be-replaced
JWT_SECRET_KEY=temp-will-be-replaced

# Sensor Configuration
SENSOR_TYPE=SIMULATED
SENSOR_SIMULATION=true
SENSOR_PIN=4

# Device Information
DEVICE_ID=weather-station-001
LOCATION=Utah

# API Configuration
API_PORT=8443
DEBUG=True

# Database
DATABASE_URL=sqlite:///weather_data.db

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/weather_station.log
EOF

# Generate and insert secure keys
SECRET=$(python3 -c "import secrets; print(secrets.token_urlsafe(32))")
JWT=$(python3 -c "import secrets; print(secrets.token_urlsafe(32))")

sed -i "s/SECRET_KEY=temp-will-be-replaced/SECRET_KEY=$SECRET/" .env
sed -i "s/JWT_SECRET_KEY=temp-will-be-replaced/JWT_SECRET_KEY=$JWT/" .env

echo "âœ“ Created proper .env file with secure keys"
cat .env

# Now start the weather station
./start_weather_station.sh